
<html lang="en" ng-app="userPostApp" ng-controller= "userPostCtrl">

<script src="lib/html5shiv/html5shiv.min.js"></script>
<link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<!-- Bootstrap theme -->
<link href="lib/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet" />
<!-- Angular CSP-->
<link href="lib/angular/css/angular-csp.css" rel="stylesheet" />
<!-- Custom styles for this template -->
<link href="css/style.css" rel="stylesheet" />
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>

<script src="js/script.js"></script>
<form class="form-horizontal"  >
<div class="form-group">
    <label for="newuser" class="col-sm-2 control-label">Name</label>
    <div class="col-sm-3">
    <input type="text"  ng-model="newuser"  class="form-control" id="newuser" placeholder="User Name" ng-required=""/>
    </div>
</div>
<div class="form-group">
    <label for="newpost" class="col-sm-2 control-label">Post</label>
    <div class="col-sm-3">
     <textarea type="text" ng-model="newpost" id="newpost"  class="form-control" ></textarea>
    </div>
</div>

    <div class="form-group">
        <label for="newcity" class="col-sm-2 control-label">City:</label>
      <div class="col-sm-3">
         <input type="text" ng-model="newcity" id="newcity"  class="form-control"/>
      </div>
    </div>
    <div class="form-group">
        <label for="newlatitude" class="col-sm-2 control-label">Latitude:</label>
        <div class="col-sm-3">
            <input type="number" ng-model="newlatitude" id="newlatitude"  class="form-control"/>
        </div>
    </div>
    <div class="form-group">
        <label for="newlongitude" class="col-sm-2 control-label">Longitude:</label>
        <div class="col-sm-3">
            <input type="number" ng-model="newlongitude" id="newlongitude"  class="form-control"/>
        </div>
    </div>
    <div class="form-group">
        <label for="newtemperature" class="col-sm-2 control-label">Temperature:</label>
        <div class="col-sm-3">
            <input type="number" ng-model="newtemperature" id="newtemperature"  class="form-control"/>
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <input type="submit" ng-click="addPost()" class="btn btn-primary" value="Add Post"/>
        </div>
    </div>

    <div class="container pad-top" ng-if="user.posts.length > 0">
        <table class="table shipwrecktable" >
            <tr>
                <!-- <td><h3>Post's By {{user.userName}}</h3></td> -->
                <td><h3>Post's from {{user.userName}}:</h3></td>
                <td></td>
            </tr>
        </table>
        <!-- Incase if we have to see post by all users then use allPost and uncomment code in script.js>
        <table class="table shipwrecktable" ng-repeat="(key, post) in user.posts">
            <tr>
                <!-- <td><h3>Post's By {{user.userName}}</h3></td> -->
                <td colspan="4"><h3>Post:</h3><h2>{{post.title}}</h2></td>

            </tr>
            <tr>
                <!-- <td><h3>Post's By {{user.userName}}</h3></td> -->
                <td></td>
                <td colspan="3">Posted from City :{{post.city}},Latitude:{{replace_chars(post.latitude)}},Longitude:{{post.longitude}},Temperature:{{post.temperature}}</td>
            </tr>
            <tr>
                <td colspan="4"><ul>Comments :
                    <li ng-repeat="(keyC, item) in post.comments">
                        {{item.comment}} <br/>
                    </li>
                </ul></td>
            </tr>
            <tr>
                <!-- <td><h3>Post's By {{user.userName}}</h3></td> -->
                <td><input type="text" ng-model="newcomment[key].comment" class="form-control"></td>
                <td colspan="3"><input type="submit" ng-click="postComment(key, post.postId)"  class="btn btn-primary" value="Add Comment"/></td>
            </tr>
        </table>

       <!-- <div  ng-repeat="(key, post) in user.posts">
            <div class="form-group">
                <label  class="col-sm-2 control-label">Post:</label>
                <div class="col-sm-3">
                    <label class="col-sm-2 control-label">{{post.title}}</label>
                    <input type="text" ng-model="newcity" id="newcity"  class="form-control"/>-->
               <!-- </div>-->
            <!--</div> -->
           <!-- <div class="form-group">
                <label>Posted from &nbsp;City :{{post.city}} ,&nbsp;&nbsp;Latitude: {{post.latitude}},Longitude&nbsp;&nbsp;&nbsp;{{post.longitude}}Temperature:&nbsp;&nbsp;&nbsp;{{post.temperature}}</label>
                <div><input type="text" ng-model="newcity" id="newcity"  class="form-control"/> </div>
            </div>
        </div>-->
        <!--<table ng-repeat="(key, post) in user.posts">
                <tr>
                    <td><label  class="col-sm-2 control-label">Post:</label></td>
                    <td><label  class="col-sm-2 control-label">{{post.title}}</label></td>
                    <td>&nbsp;</td>

                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
            <tr>
                <td>&nbsp;</td>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                <td>Posted from &nbsp;City :{{post.city}} ,&nbsp;&nbsp;Latitude: {{post.latitude}},Longitude&nbsp;&nbsp;&nbsp;{{post.longitude}}Temperature:&nbsp;&nbsp;&nbsp;{{post.temperature}}</td>
            </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>

                <tr>
                    <td><input type="text" ng-model="newcomment[key].comment" class="form-control"></td>
                    <td>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
                    <td> <input type="submit" ng-click="postComment(key, post.postId)"  class="btn btn-primary" value="Add Comment"/></td>
                </tr>
                <tr>
                    <td><ul>
                        <li ng-repeat="(keyC, item) in post.comments">
                            {{item.comment}} <br/>
                        </li>
                    </ul></td>
                    <td>
                    </td>
                </tr>
        </table>-->
    </div>
</form>
</body>
</html>